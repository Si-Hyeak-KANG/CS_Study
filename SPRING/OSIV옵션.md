# OSIV (Open Session In View)

- 스프링 프레임워크에서 사용하는 세션 관리 전략 중 하나
- 여기서 세션은 하이버네이트의 세션. 즉, 영속성 컨텍스트
- 영속성 컨텍스트를 View까지 살아 있도록 하는 것
- 기본값은 True
- spring.jpa.open-in-view : true

영속성 컨텍스트는 트랜잭션의 생명 주기와 동일하다. 하지만 해당 옵션이 true라면, 영속성 컨텍스트의 생명주기를 View에 응답이 갈 때 까지 유지시킨다.

기본이 true이기 때문에 따로 설정하지 않았다면 Lazy 로딩을 사용했을 때

트랜잭션 범위를 벗어나고 프록시 객체에 접근하더라도 `LazyInitializationException`이 발생하지 않는다.


애플리케이션에서 HTTP 요청마다 새로운 데이터베이스 커넥션이 생성되는데, 많은 수의 DB 커넥션이 발생하여 성능 저하가 발생할 수 있다.

옵션이 true일 경우 API 응답이 끝날 때 까지 영속성 컨텍스트와 데이터베이스 커넥션을 유지하기 때문에, 요청이 빈번하다면 고려

## 장점

지연 로딩은 영속성 컨텍스트가 살아있어야 가능, 영속성 컨텍스트는 기본적으로 데이터베이스 커넥션을 유지

따라서 트랜잭션 범위를 고려하지 않고 간편하게 코드 작성

## 단점

커넥션을 오래 유지할 경우, delay가 발생했을 때, 커넥션이 부족해서 시스템 오류 발생
